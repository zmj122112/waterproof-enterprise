# C端小程序 - 工单进度原型设计

## 一、页面概述

### 1.1 页面定位
- 提供用户查询和跟踪防水工程工单的实时进度
- 展示工单的详细信息和状态变化
- 支持用户与服务团队进行沟通
- 提供工单评价和反馈功能

### 1.2 页面结构

```
┌─────────────────────────────────────────────────────────────────────────┐
│                              顶部导航栏                                 │
│  ┌───────────┐  ┌───────────────────────────────────┐  ┌───────────┐   │
│  │  返回     │  │          工单进度                │  │  筛选     │   │
│  └───────────┘  └───────────────────────────────────┘  └───────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              工单列表                                 │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     工单卡片 1                                │   │
│  │  工单编号：WD20231015001                                      │   │
│  │  服务类型：上门检测（免费）                                    │   │
│  │  预约时间：2023-10-15 上午（9:00-12:00）                     │   │
│  │  工单状态：已完成                                            │   │
│  │  ┌─────────────────────────────────────────────────────────┐ │   │
│  │  │                     查看详情按钮                          │ │   │
│  │  └─────────────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     工单卡片 2                                │   │
│  │  工单编号：WD20231016002                                      │   │
│  │  服务类型：直接施工（已报价）                                  │   │
│  │  预约时间：2023-10-16 下午（14:00-17:00）                     │   │
│  │  工单状态：施工中                                            │   │
│  │  ┌─────────────────────────────────────────────────────────┐ │   │
│  │  │                     查看详情按钮                          │ │   │
│  │  └─────────────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     工单卡片 3                                │   │
│  │  工单编号：WD20231017003                                      │   │
│  │  服务类型：上门检测（免费）                                    │   │
│  │  预约时间：2023-10-17 晚上（18:00-20:00）                     │   │
│  │  工单状态：待上门                                            │   │
│  │  ┌─────────────────────────────────────────────────────────┐ │   │
│  │  │                     查看详情按钮                          │ │   │
│  │  └─────────────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              工单详情（展开状态）                       │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     工单基本信息                              │   │
│  │  工单编号：WD20231015001                                      │   │
│  │  服务类型：上门检测（免费）                                    │   │
│  │  预约时间：2023-10-15 上午（9:00-12:00）                     │   │
│  │  联系人：张三                                                │   │
│  │  手机号：13800138000                                          │   │
│  │  地址：XX区XX街道XX小区XX号楼XX单元XX室                      │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     工单进度 Timeline                          │   │
│  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │   │
│  │  │  待上门        │ │  检测中        │ │  已完成        │  │   │
│  │  │  2023-10-15    │ │  2023-10-15    │ │  2023-10-15    │  │   │
│  │  └─────────────────┘ └─────────────────┘ └─────────────────┘  │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     服务团队信息                              │   │
│  │  师傅姓名：李师傅                                            │   │
│  │  联系电话：13900139000                                          │   │
│  │  ┌─────────────────────────────────────────────────────────┐ │   │
│  │  │                     联系师傅按钮                          │ │   │
│  │  └─────────────────────────────────────────────────────────┘ │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     工单日志                                  │   │
│  │  2023-10-15 08:50: 李师傅已出发前往您的地址                  │   │
│  │  2023-10-15 09:30: 李师傅已到达，开始检测                     │   │
│  │  2023-10-15 11:20: 检测完成，生成检测报告                     │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     操作按钮                                  │   │
│  │  ┌─────────────────────────────────┐  ┌─────────────────────┐ │   │
│  │  │         在线沟通               │  │          评价工单   │ │   │
│  │  └─────────────────────────────────┘  └─────────────────────┘ │   │
│  └─────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.3 交互设计

#### 1.3.1 顶部导航栏
- **返回**：点击返回上一页
- **筛选**：点击弹出筛选条件（按状态、时间、服务类型等）
  - 动画效果：筛选面板从底部弹出

#### 1.3.2 工单列表
- **工单卡片**：
  - 点击展开查看工单详情
  - 支持左滑操作（如取消工单、联系师傅等）
  - 动画效果：展开/收起时的滑动动画
- **工单状态**：不同状态显示不同颜色
  - 待上门：灰色 (#d9d9d9)
  - 检测中/施工中：蓝色 (#1890ff)
  - 已完成：绿色 (#52c41a)
  - 已取消：红色 (#ff4d4f)

#### 1.3.3 工单详情
- **基本信息**：清晰展示工单的核心信息
- **进度 Timeline**：
  - 直观展示工单的状态变化和时间节点
  - 当前状态高亮显示
  - 动画效果：时间线节点滚动时的渐入效果
- **服务团队信息**：
  - 显示负责师傅的姓名和联系方式
  - **联系师傅按钮**：点击直接拨打师傅电话
  - 动画效果：点击时的缩放+颜色变化效果
- **工单日志**：
  - 按时间倒序显示工单的重要事件
  - 支持滚动加载更多日志
  - 动画效果：新日志添加时的淡入效果

#### 1.3.4 操作按钮
- **在线沟通**：点击进入在线聊天界面，与服务团队进行沟通
  - 动画效果：点击时的缩放+颜色变化效果
- **评价工单**：
  - 仅对已完成的工单显示
  - 点击弹出评价星级和评价内容输入框
  - 提交评价后显示评价成功提示
  - 动画效果：
    - 评价面板从底部弹出
    - 星级评分时的星星填充动画
    - 提交成功后显示成功提示动画

### 1.4 设计规范

#### 1.4.1 颜色方案
- 主色调：蓝色 (#1890ff) - 代表专业、信任
- 辅助色：
  - 成功色：绿色 (#52c41a) - 代表已完成状态
  - 进行中色：蓝色 (#1890ff) - 代表检测中/施工中状态
  - 待处理色：灰色 (#d9d9d9) - 代表待上门状态
  - 取消色：红色 (#ff4d4f) - 代表已取消状态
- 背景色：浅灰色 (#f5f5f5)
- 文字色：深灰色 (#333333)、中灰色 (#666666)、浅灰色 (#999999)

#### 1.4.2 字体方案
- 标题：18px - 20px，粗体
- 正文：14px - 16px，常规
- 辅助文字：12px，常规
- 工单编号：16px，粗体，蓝色 (#1890ff)

#### 1.4.3 图标方案
- 使用简洁、直观的线性图标
- 图标颜色与文字颜色保持一致
- 交互元素图标添加反馈效果
- 状态图标：使用不同颜色区分不同工单状态

### 1.5 页面原型图

#### 1.5.1 工单进度原型图

![工单进度原型图](images/workorder-progress.png)

#### 1.5.2 交互流程图

```
┌─────────────────────────────────────────────────────────────────────────┐
│                              工单进度页面                              │
├─────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  查看工单列表                                   │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                               ▼                                       │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  选择要查看的工单                               │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                               ▼                                       │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  展开工单详情                                   │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                  ┌───────────┴───────────┐                           │
│                  │                       │                           │
│                  ▼                       ▼                           │
│  ┌─────────────────────────────────┐  ┌─────────────────────────┐     │
│  │          查看工单进度 Timeline    │  │          查看工单日志     │     │
│  └─────────────────────────────────┘  └─────────────────────────┘     │
│                  │                       │                           │
│                  ▼                       ▼                           │
│  ┌─────────────────────────────────┐  ┌─────────────────────────┐     │
│  │          联系服务团队            │  │          评价工单        │     │
│  └─────────────────────────────────┘  └─────────────────────────┘     │
│                  │                       │                           │
│                  ▼                       ▼                           │
│  ┌─────────────────────────────────┐  ┌─────────────────────────┐     │
│  │          进入在线聊天界面        │  │          提交工单评价      │     │
│  └─────────────────────────────────┘  └─────────────────────────┘     │
│                  │                       │                           │
│                  ▼                       ▼                           │
│  ┌─────────────────────────────────┐  ┌─────────────────────────┐     │
│  │          与服务团队沟通          │  │          评价成功提示      │     │
│  └─────────────────────────────────┘  └─────────────────────────┘     │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.6 技术实现建议

#### 1.6.1 前端框架
- 使用微信小程序原生开发
- 或使用 Taro、uni-app 等跨端框架

#### 1.6.2 交互实现
- 使用微信小程序的 animation API 实现动画效果
- 使用 wx.makePhoneCall API 实现拨打电话功能
- 使用 wx.navigateTo API 实现页面跳转
- 使用 wx.showToast、wx.showLoading 等 API 实现反馈效果

#### 1.6.3 数据来源
- 工单列表和详情：调用后台工单服务 API
- 工单进度和日志：调用后台工单进度服务 API
- 在线聊天：集成即时通讯 SDK（如腾讯云 IM）

## 二、原型使用说明

### 2.1 如何查看原型
- 使用微信开发者工具打开原型文件夹
- 或使用在线原型工具（如 Axure、Figma）查看交互原型

### 2.2 如何进行交互测试
- 点击工单卡片查看详情
- 查看工单进度 Timeline
- 点击联系师傅按钮测试拨打电话功能
- 点击在线沟通按钮测试聊天功能
- 点击评价工单按钮测试评价功能

### 2.3 如何提供反馈
- 记录需要修改的页面或交互
- 标注具体的修改建议
- 提供参考示例（如有）

## 三、后续迭代计划

### 3.1 增加工单实时推送功能，当工单状态变化时主动通知用户
### 3.2 优化工单筛选和搜索功能，支持更多筛选条件和关键词搜索
### 3.3 增加工单分享功能，方便用户分享工单信息给他人
### 3.4 优化在线沟通体验，支持发送图片、语音等多媒体消息
### 3.5 增加工单统计功能，展示用户的历史工单数据