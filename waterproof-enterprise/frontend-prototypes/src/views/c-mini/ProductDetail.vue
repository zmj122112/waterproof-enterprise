<script setup>
// äº§å“è¯¦æƒ…é¡µé¢
import { ref, onMounted } from 'vue'
import { useRoute, useRouter } from 'vue-router'
import { ArrowLeft, Check } from '@element-plus/icons-vue'

const route = useRoute()
const router = useRouter()
const productId = ref(route.params.id || '1')

// äº§å“æ•°æ®
const product = ref({
  id: productId.value,
  name: 'æœˆæ˜Ÿå¾¡ç›¾K11é€šç”¨å‹é˜²æ°´æµ†æ–™',
  icon: 'ğŸª£',
  features: [
    'æ³•å›½A+ç¯ä¿è®¤è¯',
    'è¶…å¼ºæŠ—æ¸—',
    'é•¿æœŸæ°´æ³¡',
    'æ–½å·¥ä¾¿æ·'
  ],
  certifications: [
    { name: 'æ³•å›½A+', icon: 'ğŸŒ' },
    { name: 'ç»¿è‰²è®¤è¯', icon: 'ğŸŒ±' }
  ],
  standard: 'JC/T 2090-2011 (DMå‹)',
  specification: '20kg/æ¡¶',
  introduction: 'ä¸“ä¸ºå®¶åº­å¨å«è®¾è®¡ï¼Œå…·æœ‰æå¼ºçš„æ¸—é€ç»“æ™¶èƒ½åŠ›ï¼ŒåˆšæŸ”ç›¸æµã€‚\n\næœˆæ˜Ÿé˜²æ°´ä»¥æ­¤äº§å“è‡´æ•¬åŒ å¿ƒï¼Œé‡‡ç”¨è¿›å£åŸææ–™ï¼Œç»è¿‡28é“å·¥åºä¸¥æ ¼æ£€æµ‹ã€‚å…·æœ‰è¶…å¼ºçš„ç²˜ç»“åŠ›å’ŒæŸ”éŸ§æ€§ï¼Œæ˜¯å®¶åº­é˜²æ°´çš„ç†æƒ³é€‰æ‹©ã€‚'
})

// è¿”å›äº§å“åˆ—è¡¨
const goBack = () => {
  console.log('è¿”å›æŒ‰é’®ç‚¹å‡»äº‹ä»¶è§¦å‘');
  console.log('å½“å‰è·¯ç”±:', route.path);
  // ç›´æ¥ä½¿ç”¨window.location.hrefè·³è½¬ï¼Œç¡®ä¿èƒ½å¤Ÿè¿”å›
  window.location.href = '/c-mini/product-list';
}

onMounted(() => {
  console.log('äº§å“è¯¦æƒ…é¡µé¢åŠ è½½ï¼Œäº§å“ID:', productId.value)
})
</script>

<template>
  <div class="product-detail-page" style="min-height: 100vh; background-color: #f5f7fa; padding-bottom: 80px;">
    <!-- é¡µé¢æ ‡é¢˜æ  - åŒ…å«è¿”å›æŒ‰é’®å’Œåˆ†äº«å›¾æ ‡ -->
    <div style="background-color: #CC0010; padding: 20px 20px 40px; text-align: center; position: relative; z-index: 30; border-bottom-left-radius: 32px; border-bottom-right-radius: 32px;">
      <!-- è¿”å›æŒ‰é’® -->
      <a href="/c-mini/product-list" style="position: absolute; left: 10px; top: 10px; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; color: white; font-size: 18px; cursor: pointer; z-index: 99999; background: rgba(255,255,255,0.1); border-radius: 50%; text-decoration: none;">
        <el-icon><ArrowLeft /></el-icon>
      </a>
      
      <!-- åˆ†äº«å›¾æ ‡ -->
      <div style="position: absolute; right: 20px; top: 20px; color: white; font-size: 18px; cursor: pointer; z-index: 99999;">
        <span style="font-size: 18px;">ğŸ”—</span>
      </div>
      
      <!-- ç©ºdivç”¨äºå ä½ï¼Œç¡®ä¿æ ‡é¢˜æ é«˜åº¦è¶³å¤Ÿ -->
      <div style="height: 20px;"></div>
    </div>

    <!-- äº§å“å›¾æ ‡ -->
    <div style="display: flex; justify-content: center; align-items: center; padding: 20px 0; position: relative; z-index: 20; margin-top: -60px;">
      <div style="background: white; border-radius: 50%; padding: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.15); width: 120px; height: 120px; display: flex; align-items: center; justify-content: center; font-size: 60px;">
        {{ product.icon }}
      </div>
    </div>

    <!-- äº§å“åç§° -->
    <div style="padding: 0 20px 16px; text-align: center;">
      <h1 style="font-size: 20px; font-weight: bold; color: #111827; margin: 0 0 8px 0;">{{ product.name }}</h1>
    </div>

    <!-- äº§å“ç‰¹ç‚¹ -->
    <div style="padding: 0 20px 16px;">
      <div style="display: flex; flex-wrap: wrap; gap: 8px; justify-content: center;">
        <div v-for="(feature, index) in product.features" :key="index" style="display: flex; align-items: center; gap: 4px; background: #FFF0F0; color: #E60012; padding: 6px 12px; border-radius: 16px; font-size: 13px; font-weight: 500;">
          <el-icon style="font-size: 14px;"><Check /></el-icon>
          {{ feature }}
        </div>
      </div>
    </div>

    <!-- è®¤è¯ä¿¡æ¯ -->
    <div style="padding: 0 20px 20px;">
      <div style="display: flex; gap: 16px; justify-content: center;">
        <div v-for="(cert, index) in product.certifications" :key="index" style="display: flex; flex-direction: column; align-items: center; gap: 4px;">
          <div style="width: 48px; height: 48px; background: #F0F9FF; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px;">
            {{ cert.icon }}
          </div>
          <div style="font-size: 12px; color: #6b7280;">{{ cert.name }}</div>
        </div>
      </div>
    </div>

    <!-- äº§å“æ ‡å‡†å’Œè§„æ ¼ -->
    <div style="background: white; margin: 0 20px 20px; border-radius: 20px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); position: relative; z-index: 10;">
      <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #E5E7EB;">
        <div style="font-size: 14px; color: #6b7280;">æ‰§è¡Œæ ‡å‡†</div>
        <div style="font-size: 14px; color: #111827; font-weight: 500;">{{ product.standard }}</div>
      </div>
      <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0;">
        <div style="font-size: 14px; color: #6b7280;">åŒ…è£…è§„æ ¼</div>
        <div style="font-size: 14px; color: #111827; font-weight: 500;">{{ product.specification }}</div>
      </div>
    </div>

    <!-- äº§å“ç®€ä»‹ -->
    <div style="background: white; margin: 0 20px 20px; border-radius: 20px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); position: relative; z-index: 10;">
      <div style="font-size: 16px; font-weight: bold; color: #111827; margin: 0 0 16px 0; padding-bottom: 8px; border-bottom: 1px solid #E5E7EB;">äº§å“ç®€ä»‹</div>
      <div style="color: #6b7280; line-height: 1.6; font-size: 14px; white-space: pre-line;">
        {{ product.introduction }}
      </div>
    </div>
  </div>
</template>

<style scoped>
.product-detail-page {
  padding-bottom: 80px;
}
</style>