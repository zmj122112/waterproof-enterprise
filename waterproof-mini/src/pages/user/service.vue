<script setup>
// âœ… å¼•å…¥ç»„ä»¶
import TabBar from '@/components/TabBar.vue'
import { ref, onMounted } from 'vue'
import { onShow } from '@dcloudio/uni-app'

// å®¢æœè”ç³»æ–¹å¼
const contactMethods = ref([
  {
    id: 1,
    type: 'phone',
    name: 'å®¢æœçƒ­çº¿',
    value: '400-123-4567',
    icon: 'ğŸ“',
    action: 'call'
  },
  {
    id: 2,
    type: 'wechat',
    name: 'ä¼ä¸šå¾®ä¿¡',
    value: 'yuexingwaterproof',
    icon: 'ğŸ’¬',
    action: 'wechat'
  },
  {
    id: 3,
    type: 'email',
    name: 'ç”µå­é‚®ç®±',
    value: 'service@yuexingwaterproof.com',
    icon: 'ğŸ“§',
    action: 'email'
  },
  {
    id: 4,
    type: 'worktime',
    name: 'å·¥ä½œæ—¶é—´',
    value: 'å‘¨ä¸€è‡³å‘¨æ—¥ 8:00-20:00',
    icon: 'â°',
    action: 'info'
  }
])

// å¸¸è§é—®é¢˜
const faqs = ref([
  {
    id: 1,
    question: 'å¦‚ä½•é¢„çº¦ä¸Šé—¨æœåŠ¡ï¼Ÿ',
    answer: 'æ‚¨å¯ä»¥é€šè¿‡å°ç¨‹åºé¦–é¡µçš„"æ¼æ°´ç»´ä¿®"æˆ–"æ–°æˆ¿é˜²æ°´"å…¥å£ï¼Œå¡«å†™é¢„çº¦ä¿¡æ¯åæäº¤ï¼Œæˆ‘ä»¬ä¼šå°½å¿«å®‰æ’å¸ˆå‚…ä¸Šé—¨æœåŠ¡ã€‚'
  },
  {
    id: 2,
    question: 'æœåŠ¡èŒƒå›´åŒ…æ‹¬å“ªäº›åŒºåŸŸï¼Ÿ',
    answer: 'æˆ‘ä»¬çš„æœåŠ¡èŒƒå›´è¦†ç›–ä¸Šæµ·å¸‚å…¨å¢ƒï¼ŒåŒ…æ‹¬æµ¦ä¸œæ–°åŒºã€é™å®‰åŒºã€å¾æ±‡åŒºã€é•¿å®åŒºã€æ™®é™€åŒºã€è™¹å£åŒºã€æ¨æµ¦åŒºã€é»„æµ¦åŒºã€å˜‰å®šåŒºã€é—µè¡ŒåŒºã€å®å±±åŒºã€æ¾æ±ŸåŒºã€é’æµ¦åŒºã€å¥‰è´¤åŒºã€é‡‘å±±åŒºã€å´‡æ˜åŒºç­‰ã€‚'
  },
  {
    id: 3,
    question: 'ç»´ä¿®åæœ‰è´¨ä¿æœŸå—ï¼Ÿ',
    answer: 'æ˜¯çš„ï¼Œæˆ‘ä»¬æä¾›ä¸“ä¸šçš„è´¨ä¿æœåŠ¡ï¼Œä¸åŒç±»å‹çš„ç»´ä¿®æœ‰ä¸åŒçš„è´¨ä¿æœŸï¼Œä¸€èˆ¬ä¸º1-5å¹´ï¼Œå…·ä½“ä»¥å®é™…ç»´ä¿®æ–¹æ¡ˆä¸ºå‡†ã€‚'
  }
])

// è”ç³»å®¢æœ
const contactService = (method) => {
  console.log('è”ç³»å®¢æœ:', method)
  switch (method.type) {
    case 'phone':
      uni.makePhoneCall({ phoneNumber: method.value })
      break
    case 'wechat':
      uni.showToast({ title: 'è¯·æœç´¢ä¼ä¸šå¾®ä¿¡: ' + method.value, icon: 'none' })
      break
    case 'email':
      uni.showToast({ title: 'è¯·å‘é€é‚®ä»¶è‡³: ' + method.value, icon: 'none' })
      break
    default:
      uni.showToast({ title: 'åŠŸèƒ½å¼€å‘ä¸­', icon: 'none' })
  }
}

// è¿”å›ä¸Šä¸€é¡µ
const goBack = () => {
  uni.navigateBack()
}

onMounted(() => {
  console.log('è”ç³»å®¢æœé¡µé¢åŠ è½½')
})

// âœ… éšè—åŸç”ŸTabBar
onShow(() => {
  
})
</script>

<template>
  <view class="contact-service-page" style="min-height: 100vh; background-color: #f5f7fa; padding-bottom: 200rpx;">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <view class="top-nav" style="background-color: #CC0010; padding: 32rpx 40rpx; display: flex; align-items: center; color: white; position: sticky; top: 0; z-index: 100;">
      <view class="back-button" style="cursor: pointer; margin-right: 32rpx;" @click="goBack()">
        <text style="color: white; font-size: 48rpx;">â†</text>
      </view>
      <view class="page-title" style="font-size: 36rpx; font-weight: bold; flex: 1; text-align: center; margin-right: 80rpx; color: white;">è”ç³»å®¢æœ</view>
    </view>

    <!-- å®¢æœè”ç³»æ–¹å¼ -->
    <view style="padding: 32rpx;">
      <view style="background: white; border: 2rpx solid #E5E7EB; border-radius: 32rpx; padding: 32rpx; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.1); margin-bottom: 32rpx;">
        <view style="font-size: 32rpx; font-weight: bold; color: #333; margin-bottom: 32rpx;">è”ç³»æ–¹å¼</view>
        
        <view v-for="method in contactMethods" :key="method.id" 
             style="display: flex; align-items: center; justify-content: space-between; padding: 24rpx 0; border-bottom: 2rpx solid #f0f0f0;"
             @click="contactService(method)"
             @touchstart="$event.currentTarget.style.backgroundColor = '#f9fafb'"
             @touchend="$event.currentTarget.style.backgroundColor = 'transparent'"
        >
          <div style="display: flex; align-items: center; gap: 24rpx;">
            <div style="font-size: 48rpx;">{{ method.icon }}</div>
            <div>
              <div style="font-size: 28rpx; font-weight: medium; color: #333;">{{ method.name }}</div>
              <div style="font-size: 24rpx; color: #666;">{{ method.value }}</div>
            </div>
          </div>
          <div style="font-size: 32rpx; color: #999;">â†’</div>
        </view>
      </view>

      <!-- å¸¸è§é—®é¢˜ -->
      <view style="background: white; border: 2rpx solid #E5E7EB; border-radius: 32rpx; padding: 32rpx; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.1);">
        <view style="font-size: 32rpx; font-weight: bold; color: #333; margin-bottom: 32rpx;">å¸¸è§é—®é¢˜</view>
        
        <view v-for="faq in faqs" :key="faq.id" style="margin-bottom: 32rpx;">
          <div style="font-size: 28rpx; font-weight: medium; color: #333; margin-bottom: 16rpx;">{{ faq.question }}</div>
          <div style="font-size: 24rpx; color: #666; line-height: 1.5;">{{ faq.answer }}</div>
        </view>
      </view>
    </view>
    
    <TabBar />
  </view>
</template>

<style scoped>
.contact-service-page {
  padding-bottom: 200rpx;
}
</style>
