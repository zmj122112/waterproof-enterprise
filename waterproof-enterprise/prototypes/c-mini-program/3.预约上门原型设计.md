# C端小程序 - 预约上门原型设计

## 一、页面概述

### 1.1 页面定位
- 提供用户在线预约防水工程上门检测/施工服务
- 收集用户基本信息和预约需求
- 支持用户选择预约时间和服务类型
- 确认预约信息，生成预约记录

### 1.2 页面结构

```
┌─────────────────────────────────────────────────────────────────────────┐
│                              顶部导航栏                                 │
│  ┌───────────┐  ┌───────────────────────────────────┐  ┌───────────┐   │
│  │  返回     │  │          预约上门                │  │  取消     │   │
│  └───────────┘  └───────────────────────────────────┘  └───────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              服务类型选择                               │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     上门检测（免费）                          │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     直接施工（已报价）                          │   │
│  └─────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              基本信息填写                               │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     姓名输入框                                │   │
│  │  请输入您的姓名                                                │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     手机号输入框                              │   │
│  │  请输入您的手机号                                              │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     地址输入框                                │   │
│  │  请输入详细地址，如：XX区XX街道XX小区XX号楼XX单元XX室              │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     定位按钮                                  │   │
│  │  自动获取当前位置                                              │   │
│  └─────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              预约时间选择                               │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     选择日期                              │   │
│  │  日历选择器：支持选择未来7天内的日期                            │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     选择时间段                              │   │
│  │  上午（9:00-12:00） | 下午（14:00-17:00） | 晚上（18:00-20:00）    │   │
│  └─────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              附加信息填写                               │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     备注输入框                                │   │
│  │  请输入其他需要说明的信息，如：特殊要求、注意事项等                │   │
│  └─────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              预约确认                                 │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     预约信息汇总                              │   │
│  │  • 服务类型：上门检测（免费）                                  │   │
│  │  • 预约时间：2023-10-15 上午（9:00-12:00）                   │   │
│  │  • 联系人：张三                                                │   │
│  │  • 手机号：13800138000                                          │   │
│  │  • 地址：XX区XX街道XX小区XX号楼XX单元XX室                      │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     提交预约按钮                              │   │
│  │  确认预约                                                     │   │
│  └─────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.3 交互设计

#### 1.3.1 顶部导航栏
- **返回**：点击返回上一页
- **取消**：点击取消当前操作，返回首页

#### 1.3.2 服务类型选择
- **服务类型卡片**：点击选择对应的服务类型，选中状态高亮显示
- **动画效果**：点击时缩放+颜色变化效果

#### 1.3.3 基本信息填写
- **姓名输入框**：支持文本输入，实时校验输入格式
- **手机号输入框**：支持数字输入，自动格式化手机号，实时校验手机号格式
- **地址输入框**：支持文本输入，支持调用地图选择地址
- **定位按钮**：
  - 点击调用手机定位功能，自动填充地址
  - 定位成功后显示地址信息
  - 动画效果：定位中显示旋转加载动画

#### 1.3.4 预约时间选择
- **日期选择器**：
  - 点击弹出日历组件，支持选择未来7天内的日期
  - 已被预约满的日期灰色显示，不可选择
  - 动画效果：日历弹出/收起时的滑动动画
- **时间段选择**：
  - 点击选择对应的时间段，选中状态高亮显示
  - 已被预约满的时间段灰色显示，不可选择
  - 动画效果：点击时缩放+颜色变化效果

#### 1.3.5 附加信息填写
- **备注输入框**：支持多行输入，实时显示输入字数

#### 1.3.6 预约确认
- **预约信息汇总**：实时更新用户填写的信息
- **提交预约按钮**：
  - 点击提交预约信息，生成预约记录
  - 提交成功后跳转至预约成功页面
  - 提交失败时显示错误信息
  - 动画效果：
    - 提交时显示加载动画
    - 提交成功后显示成功提示动画

### 1.4 设计规范

#### 1.4.1 颜色方案
- 主色调：蓝色 (#1890ff) - 代表专业、信任
- 辅助色：橙色 (#ff7a45) - 代表活力、行动
- 成功色：绿色 (#52c41a) - 代表预约成功
- 禁用色：灰色 (#d9d9d9) - 代表不可选状态
- 背景色：浅灰色 (#f5f5f5)
- 文字色：深灰色 (#333333)、中灰色 (#666666)、浅灰色 (#999999)

#### 1.4.2 字体方案
- 标题：18px - 20px，粗体
- 正文：14px - 16px，常规
- 辅助文字：12px，常规

#### 1.4.3 图标方案
- 使用简洁、直观的线性图标
- 图标颜色与文字颜色保持一致
- 交互元素图标添加反馈效果

### 1.5 页面原型图

#### 1.5.1 预约上门原型图

![预约上门原型图](images/appointment.png)

#### 1.5.2 交互流程图

```
┌─────────────────────────────────────────────────────────────────────────┐
│                              预约上门页面                              │
├─────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  选择服务类型（上门检测/直接施工）            │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                               ▼                                       │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  填写基本信息（姓名、手机号、地址）            │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                               ▼                                       │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  选择预约时间（日期、时间段）                  │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                               ▼                                       │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  填写附加信息（备注）                          │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                               ▼                                       │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  确认预约信息                                  │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                               ▼                                       │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  点击「提交预约」按钮                          │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                  ┌───────────┴───────────┐                           │
│                  │                       │                           │
│                  ▼                       ▼                           │
│  ┌─────────────────────────────────┐  ┌─────────────────────────┐     │
│  │          预约成功                │  │          预约失败        │     │
│  └─────────────────────────────────┘  └─────────────────────────┘     │
│                  │                       │                           │
│                  ▼                       ▼                           │
│  ┌─────────────────────────────────┐  ┌─────────────────────────┐     │
│  │          跳转至预约成功页面      │  │          显示错误信息     │     │
│  └─────────────────────────────────┘  └─────────────────────────┘     │
│                  │                       │                           │
│                  ▼                       ▼                           │
│  ┌─────────────────────────────────┐  ┌─────────────────────────┐     │
│  │          显示预约成功提示        │  │          重新填写预约信息   │     │
│  └─────────────────────────────────┘  └─────────────────────────┘     │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.6 技术实现建议

#### 1.6.1 前端框架
- 使用微信小程序原生开发
- 或使用 Taro、uni-app 等跨端框架

#### 1.6.2 交互实现
- 使用微信小程序的 animation API 实现动画效果
- 使用 wx.chooseLocation API 实现地图选择地址
- 使用 wx.getLocation API 实现定位功能
- 使用 wx.navigateTo API 实现页面跳转
- 使用 wx.showToast、wx.showLoading 等 API 实现反馈效果

#### 1.6.3 数据来源
- 预约时间可用性：调用后台服务获取
- 定位服务：调用微信小程序定位 API
- 地图服务：调用微信小程序地图 API

## 二、原型使用说明

### 2.1 如何查看原型
- 使用微信开发者工具打开原型文件夹
- 或使用在线原型工具（如 Axure、Figma）查看交互原型

### 2.2 如何进行交互测试
- 填写基本信息，测试输入框的校验效果
- 点击定位按钮，测试定位功能
- 选择预约时间，测试日历和时间段选择
- 点击提交预约，测试预约提交流程

### 2.3 如何提供反馈
- 记录需要修改的页面或交互
- 标注具体的修改建议
- 提供参考示例（如有）

## 三、后续迭代计划

### 3.1 优化预约时间选择体验，支持更灵活的时间段选择
### 3.2 增加预约提醒功能，在预约时间前发送提醒通知
### 3.3 支持用户修改或取消预约
### 3.4 增加预约历史记录查询功能
### 3.5 优化定位和地图选择地址的体验