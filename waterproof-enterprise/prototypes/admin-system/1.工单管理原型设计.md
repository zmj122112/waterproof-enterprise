# 管理系统 - 工单管理原型设计

## 一、页面概述

### 1.1 页面定位
- 为管理员提供防水工程工单的全生命周期管理功能
- 支持工单的创建、编辑、分配、状态跟踪和统计
- 提供工单的批量操作和筛选功能
- 支持工单与客户、人员、物料的关联管理
- 提供工单的实时监控和预警功能

### 1.2 页面结构

```
┌─────────────────────────────────────────────────────────────────────────┐
│                              顶部导航栏                                 │
│  ┌───────────┐  ┌───────────────────────────────────┐  ┌───────────┐   │
│  │  系统logo │  │          搜索框                  │  │  管理员中心 │   │
│  └───────────┘  └───────────────────────────────────┘  └───────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              侧边导航栏                                 │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     工单管理                                  │   │
│  │                     客户管理                                  │   │
│  │                     人员管理                                  │   │
│  │                     物料管理                                  │   │
│  │                     统计报表                                  │   │
│  │                     系统设置                                  │   │
│  └─────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              主内容区                                 │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     页面标题：工单管理                          │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     操作按钮组                                │   │
│  │  ┌─────────────────────────────────┐  ┌─────────────────────┐  │   │
│  │  │         新增工单               │  │          批量操作     │  │   │
│  │  └─────────────────────────────────┘  └─────────────────────┘  │   │
│  │  ┌─────────────────────────────────┐  ┌─────────────────────┐  │   │
│  │  │         导入工单               │  │          导出工单     │  │   │
│  │  └─────────────────────────────────┘  └─────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     筛选条件区                                │   │
│  │  ┌───────────────┐  ┌─────────────────────────────────────┐  │   │
│  │  │  工单状态：   │  │  下拉选择框（全部、待分配、待上门、检测中、施工中、已完成、已取消） │  │   │
│  │  └───────────────┘  └─────────────────────────────────────┘  │   │
│  │  ┌───────────────┐  ┌─────────────────────────────────────┐  │   │
│  │  │  服务类型：   │  │  下拉选择框（上门检测、直接施工等）    │  │   │
│  │  └───────────────┘  └─────────────────────────────────────┘  │   │
│  │  ┌───────────────┐  ┌─────────────────────────────────────┐  │   │
│  │  │  日期范围：   │  │  日期选择器                          │  │   │
│  │  └───────────────┘  └─────────────────────────────────────┘  │   │
│  │  ┌─────────────────────────────────────────────────────────┐  │   │
│  │  │                     搜索按钮                              │  │   │
│  │  └─────────────────────────────────────────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     工单列表                                 │   │
│  │  ┌─────────────────────────────────────────────────────────┐  │   │
│  │  │  复选框 │  工单编号  │  客户名称  │  联系人  │  服务类型  │  │   │  │
│  │  │         │          │          │          │          │  │   │  │
│  │  └─────────────────────────────────────────────────────────┘  │   │  │
│  │  ┌─────────────────────────────────────────────────────────┐  │   │  │
│  │  │  工单状态  │  分配人员  │  预约时间  │  创建时间  │  操作      │  │   │  │
│  │  │          │          │          │          │          │  │   │  │
│  │  └─────────────────────────────────────────────────────────┘  │   │  │
│  │  ┌─────────────────────────────────────────────────────────┐  │   │  │
│  │  │  □       │  WD20231015001 │  企业客户A   │  张三    │  上门检测  │  │   │  │
│  │  └─────────────────────────────────────────────────────────┘  │   │  │
│  │  ┌─────────────────────────────────────────────────────────┐  │   │  │
│  │  │  待分配   │  未分配    │  2023-10-15 │  2023-10-15 │  查看/编辑/分配/删除 │  │   │  │
│  │  └─────────────────────────────────────────────────────────┘  │   │  │
│  │  ┌─────────────────────────────────────────────────────────┐  │   │  │
│  │  │  □       │  WD20231016002 │  企业客户B   │  李四    │  直接施工  │  │   │  │
│  │  └─────────────────────────────────────────────────────────┘  │   │  │
│  │  ┌─────────────────────────────────────────────────────────┐  │   │  │
│  │  │  施工中   │  李师傅    │  2023-10-16 │  2023-10-16 │  查看/编辑/跟踪/完成 │  │   │  │
│  │  └─────────────────────────────────────────────────────────┘  │   │  │
│  │  └─────────────────────────────────────────────────────────────────┘  │
│  └─────────────────────────────────────────────────────────────────┘  │
│  ┌─────────────────────────────────────────────────────────────────┐  │
│  │                     分页控件                                 │  │
│  └─────────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              工单详情弹窗                               │
│  ┌─────────────────────────────────────────────────────────────────┐  │
│  │                     弹窗标题：工单详情                          │  │
│  └─────────────────────────────────────────────────────────────────┘  │
│  ┌─────────────────────────────────────────────────────────────────┐  │
│  │                     工单基本信息                              │  │
│  │  ┌───────────────┐  ┌─────────────────────────────────────┐  │  │
│  │  │  工单编号：   │  │  WD20231015001                     │  │  │
│  │  └───────────────┘  └─────────────────────────────────────┘  │  │
│  │  ┌───────────────┐  ┌─────────────────────────────────────┐  │  │
│  │  │  客户名称：   │  │  企业客户A                           │  │  │
│  │  └───────────────┘  └─────────────────────────────────────┘  │  │
│  │  └─────────────────────────────────────────────────────────────────┘  │
│  ┌─────────────────────────────────────────────────────────────────┐  │
│  │                     工单进度 Timeline                          │  │
│  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐  │  │
│  │  │  待分配        │ │  待上门        │ │  检测中        │  │  │
│  │  │  2023-10-15    │ │  2023-10-15    │ │  2023-10-15    │  │  │
│  │  └─────────────────┘ └─────────────────┘ └─────────────────┘  │  │
│  └─────────────────────────────────────────────────────────────────┘  │
│  ┌─────────────────────────────────────────────────────────────────┐  │
│  │                     操作按钮组                                │  │
│  │  ┌─────────────────────────────────┐  ┌─────────────────────┐  │  │
│  │  │         分配人员               │  │          编辑工单     │  │  │
│  │  └─────────────────────────────────┘  └─────────────────────┘  │  │
│  │  ┌─────────────────────────────────┐  ┌─────────────────────┐  │  │
│  │  │         变更状态               │  │          关闭         │  │  │
│  │  └─────────────────────────────────┘  └─────────────────────┘  │  │
│  └─────────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.3 交互设计

#### 1.3.1 顶部导航栏
- **系统logo**：点击返回系统首页
- **搜索框**：支持按工单编号、客户名称、联系人等关键词搜索
- **管理员中心**：点击进入管理员信息管理页面

#### 1.3.2 侧边导航栏
- **工单管理**：当前页面，高亮显示
- **客户管理**：点击进入客户管理页面
- **人员管理**：点击进入人员管理页面
- **物料管理**：点击进入物料管理页面
- **统计报表**：点击进入统计报表页面
- **系统设置**：点击进入系统设置页面

#### 1.3.3 操作按钮组
- **新增工单**：
  - 点击进入新增工单页面
  - 支持填写工单基本信息、关联客户等
  - 动画效果：点击时的缩放+颜色变化效果
- **批量操作**：
  - 勾选多条工单后显示
  - 支持批量分配、批量变更状态、批量删除等操作
  - 动画效果：点击时的缩放+颜色变化效果
- **导入工单**：
  - 点击弹出文件选择对话框，支持上传工单Excel文件
  - 支持批量导入多条工单记录
  - 动画效果：
    - 点击时弹出文件选择对话框
    - 上传过程中显示加载动画
    - 上传完成后显示成功/失败提示
- **导出工单**：
  - 点击导出工单列表为Excel文件
  - 支持导出全部或筛选后的工单
  - 动画效果：点击时显示导出进度提示

#### 1.3.4 筛选条件区
- **工单状态**：下拉选择工单状态，支持多选
- **服务类型**：下拉选择服务类型，支持多选
- **日期范围**：选择工单创建或预约的日期范围
- **搜索按钮**：点击根据筛选条件搜索工单
- 动画效果：
  - 下拉选择时的展开/收起动画
  - 日期选择器的弹出动画
  - 搜索按钮点击时的缩放效果

#### 1.3.5 工单列表
- **列表表头**：支持点击排序
- **复选框**：支持多选，用于批量操作
- **工单状态**：不同状态显示不同颜色
  - 待分配：灰色 (#d9d9d9)
  - 待上门：黄色 (#faad14)
  - 检测中/施工中：蓝色 (#1890ff)
  - 已完成：绿色 (#52c41a)
  - 已取消：红色 (#ff4d4f)
- **操作列**：
  - **查看**：点击查看工单详情
  - **编辑**：点击进入编辑工单页面
  - **分配**：仅对待分配状态的工单显示，点击分配人员
  - **跟踪**：对进行中的工单显示，点击跟踪工单进度
  - **完成**：对检测中/施工中状态的工单显示，点击完成工单
  - **删除**：点击删除工单
  - 动画效果：
    - 操作按钮悬停时的颜色变化效果
    - 点击时的缩放效果

#### 1.3.6 工单详情弹窗
- **工单基本信息**：展示工单的核心信息
- **工单进度 Timeline**：
  - 直观展示工单的状态变化和时间节点
  - 当前状态高亮显示
  - 支持点击查看详细信息
  - 动画效果：时间线节点滚动时的渐入效果
- **操作按钮组**：
  - **分配人员**：点击弹出人员选择对话框，选择人员分配工单
  - **编辑工单**：点击进入编辑工单页面
  - **变更状态**：点击弹出状态选择对话框，变更工单状态
  - **关闭**：点击关闭弹窗
  - 动画效果：
    - 按钮点击时的缩放+颜色变化效果
    - 弹窗关闭时的淡出效果

### 1.4 设计规范

#### 1.4.1 颜色方案
- 主色调：蓝色 (#1890ff) - 代表专业、信任
- 辅助色：
  - 成功色：绿色 (#52c41a) - 代表已完成状态
  - 警告色：黄色 (#faad14) - 代表待分配/待上门状态
  - 错误色：红色 (#ff4d4f) - 代表已取消状态
  - 进行中色：蓝色 (#1890ff) - 代表检测中/施工中状态
  - 待处理色：灰色 (#d9d9d9) - 代表待分配状态
- 背景色：白色 (#ffffff)
- 文字色：深灰色 (#333333)、中灰色 (#666666)、浅灰色 (#999999)
- 边框色：淡灰色 (#e8e8e8)

#### 1.4.2 字体方案
- 标题：16px - 18px，粗体
- 正文：14px - 16px，常规
- 辅助文字：12px，常规
- 工单编号：14px，粗体，蓝色 (#1890ff)

#### 1.4.3 图标方案
- 使用简洁、直观的线性图标
- 图标颜色与文字颜色保持一致
- 交互元素图标添加反馈效果
- 状态图标：使用不同颜色区分不同状态

### 1.5 页面原型图

#### 1.5.1 工单管理原型图

![工单管理原型图](images/workorder-management.png)

#### 1.5.2 交互流程图

```
┌─────────────────────────────────────────────────────────────────────────┐
│                              工单管理页面                              │
├─────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  设置筛选条件                                   │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                               ▼                                       │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  查看工单列表                                   │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                  ┌───────────┴───────────┐                           │
│                  │                       │                           │
│                  ▼                       ▼                           │
│  └─────────────────────────────────┘  └─────────────────────────┘     │
│  │               │               │       │                           │
│  │               │               │       │                           │
│  ▼               ▼               ▼       ▼                           │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐        │
│  │  新增工单       │  │  导入工单       │  │  导出工单       │        │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘        │
│  │               │               │       │                           │
│  │               │               │       │                           │
│  ▼               ▼               ▼       ▼                           │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐        │
│  │  编辑工单       │  │  批量操作       │  │  查看工单详情     │        │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘        │
│  │               │               │       │                           │
│  │               │               │       │                           │
│  ▼               ▼               ▼       ▼                           │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐        │
│  │  分配人员       │  │  变更状态       │  │  删除工单       │        │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘        │
│  │               │               │       │                           │
│  │               │               │       │                           │
│  ▼               ▼               ▼       ▼                           │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  更新工单列表                                   │   │
│  └─────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.6 技术实现建议

#### 1.6.1 前端框架
- 使用React、Vue等现代化前端框架
- 采用响应式设计，适配不同屏幕尺寸

#### 1.6.2 交互实现
- 使用Ant Design、Element UI等UI组件库
- 使用Axios等库进行API请求
- 使用FileSaver.js等库处理文件下载
- 使用XLSX.js等库处理Excel文件导入
- 使用ECharts等库实现数据可视化

#### 1.6.3 数据来源
- 工单数据：调用后台工单管理服务API
- 客户数据：调用后台客户管理服务API
- 人员数据：调用后台人员管理服务API
- 文件上传/下载：调用后台文件服务API

## 二、原型使用说明

### 2.1 如何查看原型
- 使用浏览器打开原型文件
- 或使用在线原型工具（如Axure、Figma）查看交互原型

### 2.2 如何进行交互测试
- 设置筛选条件，测试工单列表的筛选功能
- 点击新增工单，测试表单填写
- 点击导入/导出工单，测试文件上传/下载
- 点击查看/编辑/分配等操作按钮，测试交互效果
- 测试批量操作功能

### 2.3 如何提供反馈
- 记录需要修改的页面或交互
- 标注具体的修改建议
- 提供参考示例（如有）

## 三、后续迭代计划

### 3.1 优化工单分配算法，智能推荐最佳人员
### 3.2 增加工单预警功能，及时提醒超时工单
### 3.3 优化工单进度跟踪，支持实时更新
### 3.4 增加工单统计分析功能
### 3.5 优化移动端适配，支持移动端操作