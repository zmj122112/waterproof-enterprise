<script setup>
import TabBar from '@/components/TabBar.vue'
import { ref } from 'vue'
import { onShow, onLoad } from '@dcloudio/uni-app'

// äº§å“æ•°æ®
const product = ref({
  id: 1,
  name: 'æœˆæ˜Ÿå¾¡ç›¾K11é€šç”¨å‹é˜²æ°´æµ†æ–™',
  icon: 'ğŸª£',
  features: [
    'æ³•å›½A+ç¯ä¿è®¤è¯',
    'è¶…å¼ºæŠ—æ¸—',
    'é•¿æœŸæ°´æ³¡',
    'æ–½å·¥ä¾¿æ·'
  ],
  certifications: [
    { name: 'æ³•å›½A+', icon: 'ğŸŒ' },
    { name: 'ç»¿è‰²è®¤è¯', icon: 'ğŸŒ±' }
  ],
  standard: 'JC/T 2090-2011 (DMå‹)',
  specification: '20kg/æ¡¶',
  introduction: 'ä¸“ä¸ºå®¶åº­å¨å«è®¾è®¡ï¼Œå…·æœ‰æå¼ºçš„æ¸—é€ç»“æ™¶èƒ½åŠ›ï¼ŒåˆšæŸ”ç›¸æµã€‚\n\næœˆæ˜Ÿé˜²æ°´ä»¥æ­¤äº§å“è‡´æ•¬åŒ å¿ƒï¼Œé‡‡ç”¨è¿›å£åŸææ–™ï¼Œç»è¿‡28é“å·¥åºä¸¥æ ¼æ£€æµ‹ã€‚å…·æœ‰è¶…å¼ºçš„ç²˜ç»“åŠ›å’ŒæŸ”éŸ§æ€§ï¼Œæ˜¯å®¶åº­é˜²æ°´çš„ç†æƒ³é€‰æ‹©ã€‚'
})

// ä»è·¯ç”±å‚æ•°è·å–äº§å“ID
onLoad((options) => {
  const productId = options.id || '1'
  product.value.id = productId
  // è¿™é‡Œå¯ä»¥æ·»åŠ æ ¹æ®IDè·å–äº§å“è¯¦æƒ…çš„é€»è¾‘
  console.log('äº§å“è¯¦æƒ…é¡µé¢åŠ è½½ï¼Œäº§å“ID:', productId)
})

// è¿”å›ä¸Šä¸€é¡µ
const goBack = () => {
  uni.navigateBack()
}

// å’¨è¯¢æœåŠ¡
const goToCustomerService = () => {
  uni.navigateTo({ url: '/pages/user/service' })
}

// âœ… éšè—åŸç”ŸTabBar
onShow(() => {
  
})
</script>

<template>
  <view class="product-detail-page" style="min-height: 100vh; background-color: #f5f7fa; padding-bottom: 200rpx;">
    <!-- é¡µé¢æ ‡é¢˜æ  - åŒ…å«è¿”å›æŒ‰é’®å’Œåˆ†äº«å›¾æ ‡ -->
    <view style="background-color: #CC0010; padding: 32rpx 40rpx 48rpx; text-align: center; position: relative; z-index: 30; border-bottom-left-radius: 48rpx; border-bottom-right-radius: 48rpx;">
      <!-- è¿”å›æŒ‰é’® -->
      <view class="back-button" style="position: absolute; left: 20rpx; top: 20rpx; width: 80rpx; height: 80rpx; display: flex; align-items: center; justify-content: center; color: white; font-size: 40rpx; cursor: pointer; z-index: 99999; background: rgba(255,255,255,0.1); border-radius: 50%;" @click="goBack">
        â†
      </view>
      
      <!-- åˆ†äº«å›¾æ ‡ -->
      <view style="position: absolute; right: 20rpx; top: 20rpx; color: white; font-size: 40rpx; cursor: pointer; z-index: 99999;">
        ğŸ”—
      </view>
      
      <!-- ç©ºdivç”¨äºå ä½ï¼Œç¡®ä¿æ ‡é¢˜æ é«˜åº¦è¶³å¤Ÿ -->
      <view style="height: 40rpx;"></view>
    </view>

    <!-- äº§å“å›¾æ ‡ -->
    <view style="display: flex; justify-content: center; align-items: center; padding: 40rpx 0; position: relative; z-index: 20; margin-top: -60rpx;">
      <view style="background: white; border-radius: 50%; padding: 32rpx; box-shadow: 0 8rpx 40rpx rgba(0,0,0,0.15); width: 240rpx; height: 240rpx; display: flex; align-items: center; justify-content: center; font-size: 120rpx;">
        {{ product.icon }}
      </view>
    </view>

    <!-- äº§å“åç§° -->
    <view style="padding: 0 40rpx 32rpx; text-align: center;">
      <view style="font-size: 36rpx; font-weight: bold; color: #111827; margin: 0 0 16rpx 0;">{{ product.name }}</view>
    </view>

    <!-- äº§å“ç‰¹ç‚¹ -->
    <view style="padding: 0 40rpx 32rpx;">
      <view style="display: flex; flex-wrap: wrap; gap: 16rpx; justify-content: center;">
        <view v-for="(feature, index) in product.features" :key="index" style="display: flex; align-items: center; gap: 12rpx; background: #FFF0F0; color: #CC0010; padding: 12rpx 24rpx; border-radius: 20rpx; font-size: 26rpx; font-weight: 500;">
          <span style="font-size: 24rpx;">âœ…</span>
          {{ feature }}
        </view>
      </view>
    </view>

    <!-- è®¤è¯ä¿¡æ¯ -->
    <view style="padding: 0 40rpx 40rpx;">
      <view style="display: flex; gap: 32rpx; justify-content: center;">
        <view v-for="(cert, index) in product.certifications" :key="index" style="display: flex; flex-direction: column; align-items: center; gap: 16rpx;">
          <view style="width: 96rpx; height: 96rpx; background: #F0F9FF; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 48rpx;">
            {{ cert.icon }}
          </view>
          <view style="font-size: 24rpx; color: #6b7280;">{{ cert.name }}</view>
        </view>
      </view>
    </view>

    <!-- äº§å“æ ‡å‡†å’Œè§„æ ¼ -->
    <view style="background: white; margin: 0 40rpx 32rpx; border-radius: 32rpx; padding: 32rpx; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.1); position: relative; z-index: 10;">
      <view style="display: flex; justify-content: space-between; align-items: center; padding: 20rpx 0; border-bottom: 2rpx solid #E5E7EB;">
        <view style="font-size: 28rpx; color: #6b7280;">æ‰§è¡Œæ ‡å‡†</view>
        <view style="font-size: 28rpx; color: #111827; font-weight: 500;">{{ product.standard }}</view>
      </view>
      <view style="display: flex; justify-content: space-between; align-items: center; padding: 20rpx 0;">
        <view style="font-size: 28rpx; color: #6b7280;">åŒ…è£…è§„æ ¼</view>
        <view style="font-size: 28rpx; color: #111827; font-weight: 500;">{{ product.specification }}</view>
      </view>
    </view>

    <!-- äº§å“ç®€ä»‹ -->
    <view style="background: white; margin: 0 40rpx 32rpx; border-radius: 32rpx; padding: 32rpx; box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.1); position: relative; z-index: 10;">
      <view style="font-size: 32rpx; font-weight: bold; color: #111827; margin: 0 0 24rpx 0; padding-bottom: 16rpx; border-bottom: 2rpx solid #E5E7EB;">äº§å“ç®€ä»‹</view>
      <view style="color: #6b7280; line-height: 1.6; font-size: 26rpx; white-space: pre-line;">
        {{ product.introduction }}
      </view>
    </view>

    <!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
    <view style="padding: 0 40rpx 40rpx;">
      <button @click="goToCustomerService" style="width: 100%; background-color: #CC0010; color: white; border: none; border-radius: 16rpx; padding: 32rpx; font-size: 32rpx; font-weight: bold; cursor: pointer; transition: all 0.3s ease;">
        ç«‹å³å’¨è¯¢
      </button>
    </view>
    
    <TabBar />
  </view>
</template>

<style scoped>
.product-detail-page {
  padding-bottom: 200rpx;
}
</style>