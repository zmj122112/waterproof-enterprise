# 师傅积分系统完善设计方案

## 一、需求分析
根据用户提供的积分系统需求，需要实现以下功能：
- 师傅初始积分：100分
- 积分规则：接单+30分、不接单-10分；施工前/中/后拍照各+10分（不拍各-5分）；好评+30分、中评+10分、差评-30分
- 积分可兑换工具、奖品及现金
- 积分排名和优胜劣汰机制
- 排名前三的师傅有年终奖励

## 二、系统架构设计

### 1. 管理端完善
- **人员管理页面**：增强师傅信息管理，显示积分相关字段
- **积分管理功能**：添加积分详情查看、积分调整功能
- **积分规则配置**：支持灵活配置积分规则
- **排名管理**：展示师傅积分排名，支持按积分排序
- **兑换管理**：管理积分兑换记录和商品

### 2. 师傅端完善
- **积分中心**：展示积分概览、积分规则和积分流水
- **积分商城**：支持积分兑换商品
- **兑换记录**：查看历史兑换记录
- **排名展示**：显示个人排名和等级

### 3. 积分计算逻辑
- 设计并实现积分计算服务
- 实现积分变动记录功能
- 实现排名计算功能
- 实现积分兑换逻辑

## 三、实现计划

### 1. 管理端功能实现
- **StaffManagement.vue**：添加积分相关字段和操作按钮
- **ScoreManagement.vue**：新增积分管理页面，显示积分列表和排名
- **ScoreRuleConfig.vue**：新增积分规则配置页面
- **ExchangeManagement.vue**：新增积分兑换管理页面

### 2. 师傅端功能实现
- **ScoreCenter.vue**：积分中心页面，显示积分概览、规则和流水
- **ScoreMall.vue**：积分商城页面，支持商品兑换
- **ExchangeRecord.vue**：兑换记录页面
- **Ranking.vue**：积分排名页面

### 3. 积分计算服务
- **scoreCalculator.js**：前端积分计算工具
- **scoreService.js**：后端积分服务

### 4. 数据库设计
- 师傅积分表：存储师傅积分信息
- 积分变动记录表：记录积分变动详情
- 积分兑换表：记录积分兑换记录
- 积分商品表：存储可兑换商品信息

### 5. UI/UX设计
- 按照月星VI系统规范设计页面
- 优化移动端显示效果
- 确保操作流程简洁易用

## 四、技术实现要点

### 1. 前端技术
- Vue 3 Composition API
- Element Plus组件库
- SCSS样式
- Vue Router路由管理

### 2. 后端技术
- Node.js服务
- 积分计算逻辑
- 数据库操作

### 3. 数据流转
- 师傅行为触发积分变动
- 积分变动记录到数据库
- 实时计算排名
- 积分兑换时扣减积分

## 五、预期效果

### 1. 管理端
- 可以查看所有师傅的积分情况和排名
- 可以调整师傅积分
- 可以配置积分规则
- 可以管理积分兑换记录

### 2. 师傅端
- 可以查看自己的积分和排名
- 可以查看积分规则和积分流水
- 可以在积分商城兑换商品
- 可以查看兑换记录

### 3. 积分系统
- 实现完整的积分计算逻辑
- 实现积分排名和优胜劣汰机制
- 实现积分兑换功能
- 确保积分数据的准确性和安全性

通过以上设计和实现，可以完善师傅积分系统，提高师傅积极性，实现优胜劣汰，同时为师傅提供有价值的积分兑换功能。