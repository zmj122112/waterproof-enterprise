# 防水服务平台文档更新日志

## 更新日期：2025-12-27

### 1. 数据库设计文档更新

#### 1.1 师傅表 (masters)
- 添加了 `job_number`（工号）字段
- 添加了 `title`（师傅头衔）字段
- 添加了 `rating`（评分）字段
- 添加了 `experience`（从业年限）字段
- 添加了 `service_count`（服务次数）字段
- 添加了 `region`（所在区域）字段
- 添加了 `certifications`（认证信息，JSON格式）字段

#### 1.2 订单表 (orders)
- 添加了 `product_ids`（产品ID列表，逗号分隔）字段
- 将 `type` 字段类型从 VARCHAR 改为 TINYINT
- 将 `payment_status` 字段类型从 VARCHAR 改为 TINYINT
- 添加了 `payment_method`（支付方式）字段
- 添加了 `payment_time`（支付时间）字段
- 添加了 `start_time`（开始时间）字段
- 添加了 `end_time`（结束时间）字段
- 添加了 `evaluate_status`（评价状态）字段
- 将 `description` 字段重命名为 `problem_description`
- 添加了 `project_type`（项目类型）字段

#### 1.3 产品表 (products)
- 将 `image` 字段重命名为 `images`，并改为JSON格式
- 添加了 `category_name`（分类名称，冗余字段）字段
- 添加了 `sales`（销量）字段
- 添加了 `specs`（产品规格，JSON格式）字段
- 添加了 `is_recommend`（是否推荐）字段

#### 1.4 工程案例表 (project_cases)
- 将 `image` 字段重命名为 `images`，并改为JSON格式
- 添加了 `category_name`（分类名称，冗余字段）字段
- 添加了 `is_recommend`（是否推荐）字段

#### 1.5 客户评价表 (customer_reviews)
- 添加了 `user_name`（用户姓名，冗余字段）字段
- 添加了 `master_name`（师傅姓名，冗余字段）字段
- 添加了 `images`（评价图片列表，JSON格式）字段
- 添加了 `likes`（点赞数）字段
- 添加了 `is_top`（是否置顶）字段

### 2. 后端API设计文档更新

#### 2.1 师傅相关API
- 师傅列表API：添加了 `title`、`region` 等筛选条件，更新了响应体结构
- 师傅详情API：更新了响应体结构，添加了工号、头衔、评分、从业年限、服务次数、所在区域、认证信息等字段

#### 2.2 产品相关API
- 产品列表API：添加了 `isRecommend` 筛选条件，更新了响应体结构
- 产品详情API：更新了响应体结构，添加了图片列表、分类ID、分类名称、销量、规格、是否推荐等字段

#### 2.3 订单相关API
- 创建订单API：添加了 `productIds`、`projectType`、`problemDescription` 等字段
- 订单详情API：更新了响应体结构，添加了问题描述、项目类型、支付状态、支付方式、支付时间、开始时间、结束时间、评价状态、服务列表、产品列表等字段

### 3. 项目文档更新

#### 3.1 C端小程序功能模块
- 添加了师傅列表、师傅详情功能
- 添加了产品列表、产品详情功能
- 添加了案例列表、案例详情功能
- 添加了评价列表、评价详情功能
- 添加了地址管理、设置功能
- 添加了工单进度功能
- 添加了发票中心功能
- 添加了专属客服功能
- 添加了优惠券中心功能

### 4. 更新说明

本次更新基于C端小程序的实际功能实现，对数据库设计、后端API设计和项目文档进行了全面更新和完善。更新后的文档更加贴合实际业务需求，能够更好地指导后续的开发和维护工作。

所有更新均保持了向后兼容性，不会影响现有系统的正常运行。