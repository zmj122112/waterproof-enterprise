# 师傅端 - 工单接收原型设计

## 一、页面概述

### 1.1 页面定位
- 为防水工程师傅提供工单接收和管理功能
- 支持查看待接收、已接收和已完成的工单列表
- 提供工单详情查看和接收操作
- 支持工单的状态跟踪和提醒
- 提供地图导航功能，方便师傅前往施工现场

### 1.2 页面结构

```
┌─────────────────────────────────────────────────────────────────────────┐
│                              顶部导航栏                                 │
│  ┌───────────┐  ┌───────────────────────────────────┐  ┌───────────┐   │
│  │  返回     │  │          工单接收                │  │  消息中心 │   │
│  └───────────┘  └───────────────────────────────────┘  └───────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              标签页切换                                │
│  ┌─────────────────────────────────┐  ┌─────────────────────┐  ┌─────────────┐   │
│  │         待接收               │  │          已接收     │  │          已完成     │   │
│  └─────────────────────────────────┘  └─────────────────────┘  └─────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              工单列表                                 │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     工单卡片 1                                │   │
│  │  工单编号：WD20231015001                                      │   │
│  │  服务类型：上门检测（免费）                                    │   │
│  │  客户名称：企业客户A                                             │   │
│  │  预约时间：2023-10-15 上午（9:00-12:00）                     │   │
│  │  地址：XX区XX街道XX小区XX号楼XX单元XX室                      │   │
│  │  ┌─────────────────────────────────────────────────────────┐  │   │
│  │  │                     操作按钮                              │  │   │
│  │  │  ┌─────────────────────────────────┐  ┌─────────────┐  │  │   │
│  │  │  │         接收工单               │  │          查看详情  │  │  │   │
│  │  │  └─────────────────────────────────┘  └─────────────┘  │  │   │
│  │  └─────────────────────────────────────────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     工单卡片 2                                │   │
│  │  工单编号：WD20231016002                                      │   │
│  │  服务类型：直接施工（已报价）                                  │   │
│  │  客户名称：个人客户B                                             │   │
│  │  预约时间：2023-10-16 下午（14:00-17:00）                     │   │
│  │  地址：XX区XX街道XX小区XX号楼XX单元XX室                      │   │
│  │  ┌─────────────────────────────────────────────────────────┐  │   │
│  │  │                     操作按钮                              │  │   │
│  │  │  ┌─────────────────────────────────┐  ┌─────────────┐  │  │   │
│  │  │  │         接收工单               │  │          查看详情  │  │  │   │
│  │  │  └─────────────────────────────────┘  └─────────────┘  │  │   │
│  │  └─────────────────────────────────────────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────┐
│                              工单详情弹窗                               │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     弹窗标题：工单详情                          │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     工单基本信息                              │   │
│  │  工单编号：WD20231015001                                      │   │
│  │  服务类型：上门检测（免费）                                    │   │
│  │  客户名称：企业客户A                                             │   │
│  │  联系人：张三                                                │   │
│  │  联系电话：13800138000                                          │   │
│  │  预约时间：2023-10-15 上午（9:00-12:00）                     │   │
│  │  地址：XX区XX街道XX小区XX号楼XX单元XX室                      │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     工单描述                                  │   │
│  │  卫生间漏水，持续时间1周，需要上门检测                          │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     操作按钮组                                │   │
│  │  ┌─────────────────────────────────┐  ┌─────────────────────┐  │   │
│  │  │         接收工单               │  │          导航前往     │  │   │
│  │  └─────────────────────────────────┘  └─────────────────────┘  │   │
│  │  ┌─────────────────────────────────┐  ┌─────────────────────┐  │   │
│  │  │         联系客户               │  │          关闭         │  │   │
│  │  └─────────────────────────────────┘  └─────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.3 交互设计

#### 1.3.1 顶部导航栏
- **返回**：点击返回上一页
- **消息中心**：点击进入消息列表页面，查看系统通知和客户消息

#### 1.3.2 标签页切换
- **待接收**：显示等待师傅接收的工单列表
- **已接收**：显示师傅已接收的工单列表
- **已完成**：显示师傅已完成的工单列表
- 动画效果：标签切换时的滑动+淡入效果

#### 1.3.3 工单列表
- **工单卡片**：
  - 显示工单的核心信息，包括工单编号、服务类型、客户名称、预约时间和地址
  - 支持点击查看详情
  - 动画效果：卡片悬停时的阴影加深效果
- **操作按钮**：
  - **接收工单**：仅在待接收标签页显示，点击接收工单
  - **查看详情**：点击查看工单详情
  - 动画效果：按钮点击时的缩放+颜色变化效果

#### 1.3.4 工单详情弹窗
- **工单基本信息**：展示工单的详细信息，包括客户联系人、联系电话等
- **工单描述**：显示客户提供的漏水情况描述
- **操作按钮组**：
  - **接收工单**：点击接收该工单，工单状态变为已接收
  - **导航前往**：点击调用地图导航，显示前往施工现场的路线
  - **联系客户**：点击直接拨打客户电话
  - **关闭**：点击关闭弹窗
  - 动画效果：
    - 按钮点击时的缩放+颜色变化效果
    - 弹窗关闭时的淡出效果

### 1.4 设计规范

#### 1.4.1 颜色方案
- 主色调：蓝色 (#1890ff) - 代表专业、信任
- 辅助色：
  - 成功色：绿色 (#52c41a) - 代表已完成状态
  - 警告色：黄色 (#faad14) - 代表待接收状态
  - 错误色：红色 (#ff4d4f) - 代表取消状态
- 背景色：白色 (#ffffff)
- 文字色：深灰色 (#333333)、中灰色 (#666666)、浅灰色 (#999999)
- 边框色：淡灰色 (#e8e8e8)

#### 1.4.2 字体方案
- 标题：16px - 18px，粗体
- 正文：14px - 16px，常规
- 辅助文字：12px，常规
- 工单编号：14px，粗体，蓝色 (#1890ff)

#### 1.4.3 图标方案
- 使用简洁、直观的线性图标
- 图标颜色与文字颜色保持一致
- 交互元素图标添加反馈效果
- 状态图标：使用不同颜色区分不同状态

### 1.5 页面原型图

#### 1.5.1 工单接收原型图

![工单接收原型图](images/workorder-receive.png)

#### 1.5.2 交互流程图

```
┌─────────────────────────────────────────────────────────────────────────┐
│                              工单接收页面                              │
├─────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  选择标签页：待接收/已接收/已完成                  │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                               ▼                                       │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  查看工单列表                                   │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                               │                                       │
│                  ┌───────────┴───────────┐                           │
│                  │                       │                           │
│                  ▼                       ▼                           │
│  ┌─────────────────────────────────┐  ┌─────────────────────────┐     │
│  │          点击「查看详情」按钮      │  │          点击「接收工单」按钮    │     │
│  └─────────────────────────────────┘  └─────────────────────────┘     │
│                  │                       │                           │
│                  ▼                       ▼                           │
│  ┌─────────────────────────────────┐  ┌─────────────────────────┐     │
│  │          弹出工单详情弹窗        │  │          确认接收工单      │     │
│  └─────────────────────────────────┘  └─────────────────────────┘     │
│                  │                       │                           │
│                  │                       │                           │
│                  │                       ▼                           │
│                  │          ┌─────────────────────────┐               │
│                  │          │          工单状态变为已接收  │               │
│                  │          └─────────────────────────┘               │
│                  │                       │                           │
│                  ▼                       ▼                           │
│  ┌─────────────────────────────────┐  ┌─────────────────────────┐     │
│  │          查看工单详情            │  │          返回工单列表      │     │
│  └─────────────────────────────────┘  └─────────────────────────┘     │
│                  │                       │                           │
│                  ▼                       │                           │
│  ┌─────────────────────────────────┐  │                           │
│  │          选择操作：导航前往/联系客户/接收工单  │  │                           │
│  └─────────────────────────────────┘  │                           │
│                  │                       │                           │
│          ┌───────┴───────┐               │                           │
│          │               │               │                           │
│          ▼               ▼               │                           │
│  ┌─────────────────┐  ┌─────────────────┐  │                           │
│  │  调用地图导航   │  │  拨打客户电话   │  │                           │
│  └─────────────────┘  └─────────────────┘  │                           │
│                  │                       │                           │
│                  ▼                       │                           │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                  更新工单列表                                   │   │
│  └─────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.6 技术实现建议

#### 1.6.1 前端框架
- 使用微信小程序原生开发
- 或使用 Taro、uni-app 等跨端框架

#### 1.6.2 交互实现
- 使用微信小程序的 animation API 实现动画效果
- 使用 wx.chooseLocation API 实现地图导航
- 使用 wx.makePhoneCall API 实现拨打电话功能
- 使用 wx.navigateTo API 实现页面跳转
- 使用 wx.showToast、wx.showLoading 等 API 实现反馈效果

#### 1.6.3 数据来源
- 工单数据：调用后台工单管理服务 API
- 地图服务：调用微信小程序地图 API
- 定位服务：调用微信小程序定位 API

## 二、原型使用说明

### 2.1 如何查看原型
- 使用微信开发者工具打开原型文件夹
- 或使用在线原型工具（如 Axure、Figma）查看交互原型

### 2.2 如何进行交互测试
- 点击标签页切换查看不同状态的工单列表
- 点击工单卡片查看详情
- 点击接收工单按钮测试工单接收功能
- 点击导航前往按钮测试地图导航功能
- 点击联系客户按钮测试拨打电话功能

### 2.3 如何提供反馈
- 记录需要修改的页面或交互
- 标注具体的修改建议
- 提供参考示例（如有）

## 三、后续迭代计划

### 3.1 优化工单提醒功能，支持推送通知
### 3.2 增加工单抢单功能，支持师傅主动抢单
### 3.3 优化地图导航功能，支持实时路况显示
### 3.4 增加工单评分功能，方便客户对师傅进行评价
### 3.5 优化移动端适配，确保在不同设备上显示正常